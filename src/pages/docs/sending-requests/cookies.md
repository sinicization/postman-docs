---
title: "Using cookies"
order: 28
page_id: "cookies"
search_keyword: "pm.cookies.jar, cookies.jar"
contextual_links:
  - type: section
    name: "先决条件"
  - type: link
    name: "Setting up Postman"
    url: "/docs/getting-started/settings/"
  - type: section
    name: "其他资源"
  - type: subtitle
    name: "相关博客文章"
  - type: link
    name: "Using the Interceptor to read and write cookies"
    url: "https://blog.postman.com/using-the-interceptor-to-read-and-write-cookies/"

warning: false

---

Postman provides a **MANAGE COOKIES** modal that lets you edit cookies that are associated with each domain. If you want to capture cookies using Postman Interceptor, refer to [Syncing cookies](/docs/sending-requests/capturing-request-data/interceptor/#syncing-cookies).

> You can disable the cookie jar in the __Settings__ tab for a request at any time to toggle off sending cookies.

## Getting to the cookie manager

To open the **MANAGE COOKIES** modal, click the **Cookies** link under the **Send** button.

[![cookies link](https://assets.postman.com/postman-docs/58524551.png)](https://assets.postman.com/postman-docs/58524551.png)

This opens the **MANAGE COOKIES** modal, and displays a list of domains and the cookies associated with them.

[![manage cookies modal](https://assets.postman.com/postman-docs/WS-manage-cookies-1.png)](https://assets.postman.com/postman-docs/WS-manage-cookies-1.png)

## Create a cookie

To add a new cookie for the domain, click **Add Cookie**. A pre-generated cookie string compliant with [HTTP State Management standards](https://tools.ietf.org/html/rfc6265#section-4.1) will be created.

```
<cookieName>=<cookieValue>; path=/; domain=.domain.com; HttpOnly; Secure; Expires=Tue, 19 Jan 2038 03:14:07 GMT;
```

Postman supports the following attributes:

* **cookieName**, **cookieValue**: The name of the cookie and the value stored in it.
* **Domain**: The domain Postman will send the cookie to.
* **Path**: The URL path that the cookie is restricted to. If the path is `/`, the cookie will be sent to all requests in the specified domain.
* **HttpOnly**: If present, the cookie will not be accessible to the client-side scripts run on the page (e.g. via `document.cookie` in JavaScript). The cookie will only be added to the cookie header in requests that are made. This field does not have an effect on Postman's behavior.
* **Secure**: If present, the cookie is only sent when the URL begins with `https://`, and will not be sent over an insecure connection.
* **Expires**: The time after which the cookie will expire and not be sent by Postman.

Clicking the **Save** button will save it to the cookie store under the relevant domain.

[![create a cookie](https://assets.postman.com/postman-docs/WS-manage-cookies-2.png)](https://assets.postman.com/postman-docs/WS-manage-cookies-2.png)

When you make a request to a domain you have added a cookie to, the cookie will automatically appear in your request __Headers__ tab—click the __hidden__ button to see it.

![Cookie Header](https://assets.postman.com/postman-docs/autogenerated-cookie-header.jpg)

> You cannot override cookie headers directly in the __Headers__ tab. To change a cookie header, alter your setup in __Cookies__ (or remove cookies and set your request headers manually). You can add cookies from the __Cookies__ control _and_ manually in __Headers__, and Postman will merge them before sending your request.

## Adding a domain

If you want to add a cookie for a domain that isn’t present in the domain list, you can add one by entering the hostname (without the port or the `http://`) in the input box at the top. Clicking the **Add** button will add it to the domain list. You can then add cookies for this domain by selecting it, and entering a new cookie value as described above.

[![add a domain](https://assets.postman.com/postman-docs/WS-manage-cookies-3.png)](https://assets.postman.com/postman-docs/WS-manage-cookies-3.png)

## Updating a cookie

To update an existing cookie, go to the domain from the domain list, and click the cookie you want to edit. You can edit any property, and hit **Save** to update.

[![update cookie](https://assets.postman.com/postman-docs/WS-manage-cookies-4.png)](https://assets.postman.com/postman-docs/WS-manage-cookies-4.png)

## Deleting a cookie

You can delete a domain and all cookies associated with it by selecting **X** next to the domain. To delete individual cookies, select **X** next to the cookie in question.

![Delete cookie](https://assets.postman.com/postman-docs/deleting-cookies.jpg)

## Adding cookies through set-cookie header

You can also add/edit the cookies through the [Set-Cookie header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie) through the response.  

## Whitelisting domains for programmatic access of cookies

To whitelist a domain so that cookies can be programmatically accessed, click the **Cookies** link under the **Send** button and open the **MANAGE COOKIES** modal. Click on **Whitelist Domains** from bottom left and enter the list of
domains needed to be whitelisted.

## Programmatic access of cookies

Postman also allows for programmatic cookie access i.e. creating and manipulating cookies by special methods instead of relying on the graphical interface, granting a greater degree of control over cookies to the users.

The very first step to perform any kind of operation on cookies is to create a **Cookie Jar**, an object that will contain the
cookies and the methods that will be used to operate on cookies.

## Creating a cookie jar

To create a "cookie jar", use the `pm.cookies.jar()` method. This will create an object containing the cookies and the methods that would be needed to access them.

```js
const cookieJar = pm.cookies.jar();
```

## Creating a cookie

After a cookie jar is created, you can place cookies into it by the following methods:

1. Set a cookie using the `.set()` function, it takes a URL, a cookie name and a cookie value.

```js
// create a cookie jar
const cookieJar = pm.cookies.jar();
```

```js
// create a cookie
cookieJar.set(URL, cookie name, cookie value, callback(error, cookie));
```

1. One can also set a PostmanCookie or its compatible cookie object using the `.set()` function.

```js
// create a cookie jar
const cookieJar = pm.cookies.jar();
```

```js
// create a PostmanCookie
cookieJar.set(URL, { name: cookie name, value: cookie value, httpOnly: true }, callback (error, cookie));
```

## Get a cookie

To retrieve a cookie, `.get()` function is used. The function takes a URL and name of the required cookie. It returns the value of cookie.

```js
// create a cookie jar
const cookieJar = pm.cookies.jar();
```

```js
// create a cookie
cookieJar.set(URL, cookie name, cookie value, callback(error, cookie));
```

```js
// get the created cookie
cookieJar.get(URL, cookie name, callback(error, cookie));
```

## Get all the cookies

To get all the cookies for a particular URL that are in the cookie jar, `.getAll()` function is used, it takes a URL and returns all the cookies for that URL.

```js
// create the cookie jar
const cookieJar = pm.cookies.jar();
```

```js
// create one cookie
cookieJar.set(URL,first cookie name,first cookie value, callback(error, cookie));
```

```js
// create another cookie
cookieJar.set(URL,second cookie name,second cookie value, callback(error, cookie));
```

```js
// get the created cookies
cookieJar.getAll(URL, callback(error, cookies));
```

## Delete a cookie

To delete a cookie, `.unset()` function is used. It takes a URL and the name of the cookie to be removed.

```js
// create the cookie jar
const cookieJar = pm.cookies.jar();
```

```js
// create a cookie
cookieJar.set(URL, cookie name, cookie value, callback(error, cookie));
```

```js
// Delete the created cookie
cookieJar.unset(URL , cookie name, callback (error));
```

## Delete all the cookies

To clear all the cookies for a URL, `.clear()` is used. It takes the URL for which all the cookies are to be removed. Note that `.clear()` removes all cookies for a particular URL, it DOES NOT remove all the cookies in the jar as there may be cookies for more than one URL in the cookie jar.

```js
// create cookie jar
const cookieJar = pm.cookies.jar();
```

```js
// set one cookie
cookieJar.set(URL,first cookie name,first cookie value, callback(error, cookie));
```

```js
// set another cookie
cookieJar.set(URL,second cookie name,second cookie value, callback(error, cookie));
```

```js
// delete the set cookies
cookieJar.clear(URL, callback (error));
```

## Properties not yet supported

Currently, there are two properties that are not yet supported by Postman:

* SameSite
* Cookie Prefixes
    * __Secure-
    * __Host-

Whenever you add a domain, Postman will sync all cookies for that domain from the browser. Entering “facebook.com”, for example will sync cookies for facebook and all its subdomains (m.facebook.com). The [Postman Interceptor](/docs/sending-requests/capturing-request-data/interceptor/#syncing-cookies) extension keeps cookies for a fixed set of domains in sync from the browser to Postman (cookie updates from the browser sync to Postman, not vice versa). This will let you use any authentication sessions in your browser to make API calls in Postman. However, you will not be able to save them to Postman’s history.

Subsequent updates (on the cookie’s value or other properties) and deletions will be synced as well. Click ‘x’ next to the domain to remove it from the synced set. This will only prevent future cookie updates from being synced - it won’t delete the cookies that have already been synced to Postman.
